const openLink = (name, svg, getUrl) => ({
    name,
    render: (text, rawText, shareUrl) => {
        const url = getUrl(text)
        return `<a href="${url}" target="_blank" rel="noopener nofollow noreferrer">${svg}</a>`
    },
    action: (event, item) => console.log({event, item})
})

const search = openLink('search', `<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
viewBox="0 0 96 96" style="enable-background:new 0 0 96 96; fill:white" xml:space="preserve">
<path d="M61.2,56.1c3.1-4.2,4.8-9.2,4.8-14.6c0-6.5-2.5-12.7-7.2-17.3C54.2,19.5,48,17,41.5,17s-12.7,2.5-17.3,7.2
C19.5,28.8,17,35,17,41.5s2.5,12.7,7.2,17.3C28.8,63.5,35,66,41.5,66c5.3,0,10.4-1.7,14.6-4.8l16.7,16.7c0.7,0.7,1.6,1.1,2.6,1.1
c0.9,0,1.9-0.4,2.6-1.1c1.4-1.4,1.4-3.7,0-5.2L61.2,56.1z M29.3,53.7c-3.2-3.2-5-7.6-5-12.2s1.8-8.9,5-12.2c3.2-3.2,7.6-5,12.2-5
s8.9,1.8,12.2,5c3.2,3.2,5,7.6,5,12.2s-1.8,8.9-5,12.2c-3.2,3.2-7.6,5-12.2,5C36.9,58.7,32.6,56.9,29.3,53.7z"/>
</svg>`, txt => `https://www.qwant.com/?q=${txt.split(' ').join('%20')}`)

const slack = openLink('slack', `<svg version="1.1" id="Calque_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 96 96" style="enable-background:new 0 0 96 96;" xml:space="preserve"><style type="text/css">.st0{fill:#E01E5A;}.st1{fill:#36C5F0;}.st2{fill:#2EB67D;}.st3{fill:#ECB22E;}</style><g><g><path class="st0" d="M26.8,57.6c0,4.2-3.5,7.7-7.7,7.7s-7.7-3.5-7.7-7.7c0-4.2,3.5-7.7,7.7-7.7h7.7V57.6z"/><path class="st0" d="M30.7,57.6c0-4.2,3.5-7.7,7.7-7.7s7.7,3.5,7.7,7.7v19.2c0,4.2-3.5,7.7-7.7,7.7s-7.7-3.5-7.7-7.7 C30.7,76.9,30.7,57.6,30.7,57.6z"/></g><g><path class="st1" d="M38.4,26.8c-4.2,0-7.7-3.5-7.7-7.7s3.5-7.7,7.7-7.7s7.7,3.5,7.7,7.7v7.7H38.4z"/><path class="st1" d="M38.4,30.7c4.2,0,7.7,3.5,7.7,7.7S42.6,46,38.4,46H19.1c-4.2,0-7.7-3.5-7.7-7.7s3.5-7.7,7.7-7.7 C19.1,30.7,38.4,30.7,38.4,30.7z"/></g><g><path class="st2" d="M69.2,38.4c0-4.2,3.5-7.7,7.7-7.7c4.2,0,7.7,3.5,7.7,7.7S81.1,46,76.9,46h-7.7V38.4z"/><path class="st2" d="M65.3,38.4c0,4.2-3.5,7.7-7.7,7.7c-4.2,0-7.7-3.5-7.7-7.7V19.1c0-4.2,3.5-7.7,7.7-7.7c4.2,0,7.7,3.5,7.7,7.7 V38.4z"/></g><g><path class="st3" d="M57.6,69.2c4.2,0,7.7,3.5,7.7,7.7c0,4.2-3.5,7.7-7.7,7.7c-4.2,0-7.7-3.5-7.7-7.7v-7.7H57.6z"/><path class="st3" d="M57.6,65.3c-4.2,0-7.7-3.5-7.7-7.7c0-4.2,3.5-7.7,7.7-7.7h19.2c4.2,0,7.7,3.5,7.7,7.7c0,4.2-3.5,7.7-7.7,7.7 H57.6z"/></g></g></svg>`, () => `https://bubble-af31447.slack.com/`)

const wikipedia = openLink('wikipedia', '<svg version="1.1" id="Calque_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 96 96" style="enable-background:new 0 0 96 96;" xml:space="preserve"><style type="text/css">.st5{fill:#FFFFFF;stroke:#FFFFFF;stroke-miterlimit:10;}</style><path class="st5" d="M68.9,78.8H26.4c-5.4,0-9.8-4.4-9.8-9.8V26.5c0-5.4,4.4-9.8,9.8-9.8h42.5c5.4,0,9.8,4.4,9.8,9.8V69 C78.6,74.4,74.3,78.8,68.9,78.8z"/><path d="M74.4,31.4c0,0.2-0.1,0.4-0.2,0.5c-0.1,0.2-0.2,0.2-0.4,0.2c-1.2,0.1-2.1,0.5-2.9,1.1c-0.7,0.6-1.5,1.9-2.3,3.7L56.5,64.4 c-0.1,0.3-0.3,0.4-0.7,0.4c-0.3,0-0.5-0.1-0.7-0.4l-6.8-14.2l-7.8,14.2c-0.2,0.3-0.4,0.4-0.7,0.4c-0.3,0-0.6-0.1-0.7-0.4L27.2,37 c-0.7-1.7-1.5-2.9-2.3-3.6s-2-1.1-3.5-1.2c-0.1,0-0.2-0.1-0.3-0.2c-0.2-0.1-0.2-0.3-0.2-0.4c0-0.4,0.1-0.7,0.4-0.7 c1.1,0,2.2,0.1,3.3,0.2c1.1,0.1,2.1,0.2,3.1,0.2c0.9,0,2.1-0.1,3.5-0.2c1.4-0.1,2.6-0.2,3.7-0.2c0.3,0,0.4,0.2,0.4,0.7 c0,0.4-0.1,0.7-0.2,0.7c-1.1,0.1-1.9,0.3-2.5,0.8c-0.6,0.4-0.9,1.1-0.9,1.8c0,0.4,0.1,0.8,0.4,1.5l9.7,22.2l5.6-10.6L42,37 c-0.9-2-1.7-3.2-2.3-3.8c-0.6-0.6-1.5-0.9-2.7-1.1c-0.1,0-0.2-0.1-0.3-0.2c-0.1-0.1-0.2-0.3-0.2-0.4c0-0.4,0.1-0.7,0.3-0.7 c1.1,0,2.1,0.1,3,0.2c0.8,0.1,1.8,0.2,2.7,0.2s2-0.1,3-0.2c1.1-0.1,2.2-0.2,3.2-0.2c0.3,0,0.4,0.2,0.4,0.7c0,0.4-0.1,0.7-0.2,0.7 c-2.1,0.2-3.2,0.7-3.2,1.8c0,0.5,0.2,1.2,0.7,2.2l3.5,7l3.5-6.4c0.5-0.9,0.7-1.7,0.7-2.3c0-1.5-1.1-2.2-3.2-2.3 c-0.2,0-0.3-0.2-0.3-0.7c0-0.2,0.1-0.3,0.2-0.4c0.1-0.2,0.2-0.2,0.3-0.2c0.8,0,1.7,0.1,2.8,0.2c1.1,0.1,2,0.2,2.6,0.2 c0.5,0,1.2-0.1,2.2-0.1c1.2-0.1,2.2-0.2,3-0.2c0.2,0,0.3,0.2,0.3,0.6c0,0.5-0.2,0.8-0.5,0.8c-1.2,0.1-2.2,0.4-3,1 c-0.8,0.6-1.7,1.8-2.8,3.8l-4.6,8.5l6.2,12.6l9.2-21.3c0.3-0.8,0.5-1.5,0.5-2.1c0-1.6-1.1-2.4-3.2-2.5c-0.2,0-0.3-0.2-0.3-0.7 c0-0.4,0.2-0.7,0.4-0.7c0.8,0,1.7,0.1,2.8,0.2c1,0.1,1.8,0.2,2.5,0.2c0.7,0,1.5-0.1,2.5-0.2c0.9-0.1,1.8-0.2,2.6-0.2 C74.3,30.8,74.4,31,74.4,31.4z"/></svg>', txt => `https://en.wikipedia.org/wiki/Special:Search?search=${txt.split(' ').join('%20')}&go=Go&ns0=1`)

ShareThis({
    sharers: [search, slack, wikipedia, ShareThisViaNotes],
    selector: 'article'
}).init()